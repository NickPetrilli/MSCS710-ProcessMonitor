<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPU Information</title>
</head>
<body>
    <h1>CPU Information</h1>
    <div id="cpu"></div>

    <h1>Memory Information</h1>
    <div id="memory"></div>

    <h1>Disk Information</h1>
    <div id="disk"></div>

    <h1>Process Information</h1>
    <div id="process"></div>

    <script>
        // Fetch data from the backend
        fetch('http://localhost:8080/api/v1/cpu') 
            .then(response => response.json())
            .then(data => {
                // Render the data on the webpage
                console.log(data);
                renderCpuInfo(data);
            })
            .catch(error => console.error('Error fetching data:', error));
        
        fetch('http://localhost:8080/api/v1/memory') 
            .then(response => response.json())
            .then(data => {
                // Render the data on the webpage
                console.log(data);
                renderMemoryInfo(data);
            })
            .catch(error => console.error('Error fetching data:', error));
        
        fetch('http://localhost:8080/api/v1/disk') 
            .then(response => response.json())
            .then(data => {
                // Render the data on the webpage
                console.log(data);
                renderDiskInfo(data);
            })
            .catch(error => console.error('Error fetching data:', error));

        fetch('http://localhost:8080/api/v1/process') 
            .then(response => response.json())
            .then(data => {
                // Render the data on the webpage
                console.log(data);
                renderProcessInfo(data);
            })
            .catch(error => console.error('Error fetching data:', error));

        // Function to render system information on the webpage
        function renderCpuInfo(data) {
            const cpuInfoDiv = document.getElementById('cpu');
            cpuInfoDiv.innerHTML = `
                <p>Timestamp: ${data.timestamp}</p>
                <p>Name: ${data.name}</p>
                <p>Speed: ${data.speed}</p>
                <p>Max Speed: ${data.maxSpeed}</p>
                <p>Cores: ${data.numCores}</p>
                <p>Processes: ${data.numProcesses}</p>
                <p>Threads: ${data.numThreads}</p>
                <p>Utilization: ${data.utilization}</p>
            `;
        }

        function renderMemoryInfo(data) {
            const memoryInfoDiv = document.getElementById('memory');
            memoryInfoDiv.innerHTML = `
                <p>Timestamp: ${data.timestamp}</p>
                <p>Total Memory: ${data.totalMemory}</p>
                <p>Available Memory: ${data.availableMemory}</p>
                <p>Used Memory: ${data.usedMemory}</p>
                <p>Utilization: ${data.utilization}</p>
            `;
        }

        function renderDiskInfo(data) {
            const diskInfoDiv = document.getElementById('disk');
            // Clear existing content
            diskInfoDiv.innerHTML = '';

            // Loop through each disk object in the data list
            data.forEach((disk) => {
                const diskInfoParagraph = document.createElement('p');
                diskInfoParagraph.innerHTML = `
                    <p>Timestamp: ${disk.timestamp}</p>
                    <p>Name: ${disk.name}</p>
                    <p>Model: ${disk.model}</p>
                    <p>Swap Total: ${disk.swapTotal}</p>
                    <p>Swap Used: ${disk.swapUsed}</p>
                    <p>Swap Utilization: ${disk.swapUtilization}</p>
                    <p>Total Read Bytes: ${disk.totalReadBytes}</p>
                    <p>Total Write Bytes: ${disk.totalWriteBytes}</p>
                    <p>Read Speed: ${disk.readSpeed}</p>
                    <p>Write Speed: ${disk.writeSpeed}</p>
                    <p>Utilization: ${disk.utilization}</p>
                `;
                // Append the paragraph element to the diskInfoDiv
                diskInfoDiv.appendChild(diskInfoParagraph);
            });
        }

        function renderProcessInfo(data) {
            const processInfoDiv = document.getElementById('process');
            // Clear existing content
            processInfoDiv.innerHTML = '';

            // Loop through each process object in the data list
            data.forEach((process) => {
                // Create a new paragraph element for each disk info object
                const processInfoParagraph = document.createElement('p');
                // Set inner HTML content for the paragraph
                processInfoParagraph.innerHTML = `
                    <p>Timestamp: ${process.timestamp}</p>
                    <p>Process ID: ${process.id}</p>
                    <p>Name: ${process.name}</p>
                    <p>Status: ${process.status}</p>
                    <p>CPU Percentage: ${process.cpuPercentage}</p>
                    <p>Memory Usage (Bytes): ${process.memoryUsageBytes}</p>
                    <p>Memory Percentage: ${process.memoryUsagePercentage}</p>
                    <p>Disk Speed: ${process.diskSpeed}</p>
                    <p>Disk Percentage: ${process.diskPercentage}</p>
                `;
                // Append the paragraph element to the diskInfoDiv
                processInfoDiv.appendChild(processInfoParagraph);
            });
        }

        
    </script>
</body>
</html>